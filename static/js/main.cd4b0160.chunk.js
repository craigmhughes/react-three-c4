(this["webpackJsonpconnect-test"]=this["webpackJsonpconnect-test"]||[]).push([[0],{28:function(e,t,a){e.exports=a(40)},33:function(e,t,a){},34:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(22),r=a.n(o),c=(a(33),a(34),a(3)),s=a(23),l=a(5),m=a(1),u=a(6),f=a(14),d=function(){var e=Object(n.useState)(),t=Object(c.a)(e,2),a=t[0],o=t[1],r=new m.MeshPhongMaterial({color:28048});return Object(n.useEffect)((function(){a||(new f.a).load("blockfour-2.gltf",(function(e){e.scene.traverse((function(e){e.isMesh&&(e.material=r),e instanceof m.Mesh&&(e.castShadow=!0)})),o(e)}))})),a?i.a.createElement("primitive",{object:a.scene,scale:[.75,.75,.75],"position-y":-.675,"position-z":-.65}):null},v=function(e){var t=e.activeCol,a=Object(n.useState)(),o=Object(c.a)(a,2),r=o[0],s=o[1],l=new m.MeshPhongMaterial({color:16777215}),d=Object(u.b)({x:.21*t-.65});return Object(n.useEffect)((function(){r||(new f.a).load("c4-pointer.gltf",(function(e){e.scene.traverse((function(e){e.isMesh&&(e.material=l),e instanceof m.Mesh&&(e.castShadow=!0)})),s(e)}))})),r?i.a.createElement(u.a.primitive,{object:r.scene,scale:[.1,.1,.1],"position-y":1.1,"position-x":d.x}):null},g=function(e){var t=e.id,a=e.dimensions,o=e.cols,r=e.owner,c=e.isPlaced,s=Object(n.useRef)(),l=a[0]/o*1.075,m=r>0?"#e8ea5e":"#bb4042",f=Object(u.b)({counterColor:m,y:c?.23*t-.625:a[1]+l+1,transparent:c?1:0});return i.a.createElement(u.a.mesh,{ref:s,"rotation-x":0,"position-y":f.y,castShadow:c},i.a.createElement("boxGeometry",{attach:"geometry",args:[l,l,l]}),i.a.createElement(u.a.meshPhongMaterial,{attach:"material",color:f.counterColor,opacity:f.transparent}))},h=function(e){var t=Object(n.useState)(),a=Object(c.a)(t,2),o=a[0],r=a[1],s=new m.MeshPhongMaterial({color:16777215});return Object(n.useEffect)((function(){o||(new f.a).load("clouds.gltf",(function(e){e.scene.traverse((function(e){e.isMesh&&(e.material=s),e instanceof m.Mesh&&(e.castShadow=!0)})),r(e)}))})),o?i.a.createElement("primitive",{object:o.scene,scale:[.75,.5,.75],"position-y":2,"position-z":0,"rotation-y":e?3.5:-3.5}):null},p=function(e){for(var t=e.id,a=e.dimensions,o=e.cols,r=e.activeCol,c=e.setActiveCol,s=e.counters,l=e.setCounter,m=e.player,f=Object(n.useRef)(),d=t,v=[],h=Object(u.b)({color:r===t?"red":"grey"}),p=0;p<Math.floor(a[1]/(a[0]/o));p++)v.push(i.a.createElement(g,{key:p,id:p,dimensions:a,cols:o,owner:s[d][p],isPlaced:void 0!==s[t][p]}));return i.a.createElement(u.a.mesh,{ref:f,"position-x":-a[0]/2+(a[0]/o+.015)*t+.06,"position-z":-.05,"position-y":.075,onClick:function(){c(-1),l([t,m]),c(t)}},v,i.a.createElement("boxGeometry",{attach:"geometry",args:[a[0]/o,a[1],a[2]]}),i.a.createElement(u.a.meshBasicMaterial,{attach:"material",color:h.color,transparent:!0,opacity:.01}))},b=function(e){for(var t=e.active,a=(e.setActive,e.isMoving),o=e.setIsMoving,r=e.counters,c=e.setCounter,s=e.player,m=e.activeCol,f=e.setActiveCol,g=Object(n.useRef)(),b=Object(u.b)({rotationY:t?3.15:0}),y=[1.5,1.425,.2],E=[],S=0;S<7;S++)E.push(i.a.createElement(p,{key:S,id:S,dimensions:y,cols:7,activeCol:m,setActiveCol:f,counters:r,setCounter:c,player:s}));return Object(l.f)((function(){(3.15==b.rotationY.value&&a||0==b.rotationY.value&&a)&&o(!1)})),i.a.createElement(u.a.mesh,{ref:g,"rotation-y":b.rotationY,"position-y":0,"position-x":.025,castShadow:!0,receiveShadow:!0},E,i.a.createElement(d,null),i.a.createElement(v,{activeCol:m}),i.a.createElement(h,{active:t}))},y=function(e){var t=e.setIsMoving,a=e.isMoving,n=e.placeCounter,o=e.gameState;return i.a.createElement("img",{src:"assets/place-counter.svg",id:"place-button",className:0==o?"hidden":"",onClick:function(e){!function(e){e.preventDefault(),0==a&&(t(!0),n())}(e)}})},E=function(e){var t=e.gameState,a=e.setGameState,n=e.winner,o=e.isSinglePlayer,r="winner-modal";return n<0&&o&&(r="loser-modal"),i.a.createElement("div",{id:"endgame-modal-container",className:t>1?"active":""},i.a.createElement("img",{src:"assets/".concat(r,".svg"),id:"end-modal"}),i.a.createElement("img",{src:"assets/playerwin-".concat(1==n?"one":"two",".svg"),id:"end-winner"}),i.a.createElement("img",{src:"assets/tick.svg",id:"end-confirm",onClick:function(){a(0)}}),i.a.createElement("img",{src:"assets/retry.svg",id:"retry-game",onClick:function(){a(1,!0)}}))},S=function(e){var t=e.modal,a=e.setModal,n=e.gameState,o=e.setGameState;return i.a.createElement("div",{id:"exit-modal-container",className:t&&0!==n?"active":"",onClick:function(e){"exit-modal"!==e.target.id&&"exit-confirm"!==e.target.id&&a(!t)}},i.a.createElement("img",{src:"assets/quit-modal.svg",id:"exit-modal"}),i.a.createElement("img",{src:"assets/tick.svg",id:"exit-confirm",onClick:function(){o(0,!0),a(!1)}}),i.a.createElement("img",{src:"assets/exit-2.svg",id:"exit-cancel"}))};var w=function(e){var t=e.setActive,a=e.active,n=e.setIsMoving,o=e.isMoving,r=e.placeCounter,c=e.modal,s=e.setModal,l=e.gameState,m=e.setGameState,u=e.isSinglePlayer,f=e.setIsSinglePlayer,d=e.winner;return i.a.createElement("div",{className:"Interface"},i.a.createElement("img",{src:"assets/logo.svg",id:"game-logo",className:0==l?"menu":""}),i.a.createElement("img",{src:"assets/playerturn-".concat(a?"two":"one",".svg"),id:"turn-card",className:0==l?"hidden":""}),i.a.createElement("div",{id:"singleplay-btn",className:l>0?"hidden":""},i.a.createElement("img",{src:"assets/single-player.svg",onClick:function(){m(1),f(!0),console.log("Single Player = "+u)}})),i.a.createElement("div",{id:"twoplayer-btn",className:l>0?"hidden":""},i.a.createElement("img",{src:"assets/two-player.svg",onClick:function(){m(1),f(!1),console.log("Single Player = "+u)}})),i.a.createElement("img",{src:"assets/exit.svg",id:"exit-game",className:0==l?"hidden":"",onClick:function(){s(!c),console.log(c)}}),i.a.createElement("img",{src:"assets/credit.svg",id:"project-credit",className:l>0?"hidden":""}),i.a.createElement(y,{gameState:l,setActive:t,active:a,setIsMoving:n,isMoving:o,placeCounter:r}),i.a.createElement(S,{modal:c,setModal:s,gameState:l,setGameState:m}),i.a.createElement(E,{gameState:l,setGameState:m,winner:d,isSinglePlayer:u}))},j=function(){var e=Object(l.h)(),t=e.camera;return t.position.z=2.5,t.position.y=0,e.gl.setSize(window.innerWidth,window.innerHeight),null};Object(l.d)({OrbitControls:s.a});var O=function(){return i.a.createElement("mesh",{"rotation-x":-1.6,"position-z":0,"position-y":-.675,receiveShadow:!0},i.a.createElement("planeBufferGeometry",{attach:"geometry",args:[10,10]}),i.a.createElement("meshPhongMaterial",{attach:"material",color:"#4fd654"}))},M=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(!1),s=Object(c.a)(r,2),u=s[0],f=s[1],d=Object(n.useState)(1),v=Object(c.a)(d,2),g=v[0],h=v[1],p=Object(n.useState)([[],[],[],[],[],[],[]]),y=Object(c.a)(p,2),E=y[0],S=y[1],M=Object(n.useState)([0,g]),C=Object(c.a)(M,2),k=C[0],x=C[1],P=Object(n.useState)(0),N=Object(c.a)(P,2),A=N[0],I=N[1],G=Object(n.useState)(!1),z=Object(c.a)(G,2),B=z[0],Y=z[1],L=Object(n.useState)(0),R=Object(c.a)(L,2),W=R[0],J=R[1],q=Object(n.useState)(!0),D=Object(c.a)(q,2),F=D[0],H=D[1],$=Object(n.useState)(1),K=Object(c.a)($,2),Q=K[0],T=K[1];function U(e){"undefined"!==typeof e?(E[e[0]][E[e[0]].length]=e[1],e.push(E[e[0]].length-1),V(e)):(E[k[0]][E[k[0]].length]=k[1],k.push(E[k[0]].length-1),V(k)),F||(h(-1*g),x([A,-1*g])),e?o(!1):0==a&&F?function(){for(var e,t=0;t<7;t++)if(E[t].length<6){E[t][E[t].length]=1;var a=V([t,1,E[t].length-1],!0);E[t].pop(),E[t][E[t].length]=-1;var n=V([t,-1,E[t].length-1],!0);if(E[t].pop(),void 0!==n&&"tie"!==n){e=t;break}void 0!==a&&"tie"!==a&&(e=t)}void 0==e&&(e=Math.floor(7*Math.random()));U([e,-1]),V([e,-1,E[e].length-1])}():o(!a)}function V(e,t){for(var a=[e[0],e[2]],n=e[1],i=[X(a,n),Z(a,n),ee(a,n),_(a,n)],r=!1,c=0;c<i.length;c++){if(i[c]&&t)return n;if(i[c]){T(n),console.log(Q),J(2),r=!0,o(!1),h(1);break}}if(!r)return"tie"}function X(e,t){for(var a=1,n=1;n<7&&!(e[0]+n>6);n++)if("undefined"!==typeof E[e[0]+n]){if(E[e[0]+n][e[1]]!=t)break;a+=1}for(var i=1;i<7&&!(e[0]-i<0);i++)if("undefined"!==typeof E[e[0]-i]){if(E[e[0]-i][e[1]]!=t)break;a+=1}return a>=4}function Z(e,t){for(var a=1,n=1;n<7&&!(e[1]+n>6);n++)if("undefined"!==typeof E[e[0]][e[1]+n]){if(E[e[0]][e[1]+n]!=t)break;a+=1}for(var i=1;i<7&&!(e[1]-i<0);i++)if("undefined"!==typeof E[e[0]][e[1]-i]){if(E[e[0]][e[1]-i]!=t)break;a+=1}return a>=4}function _(e,t){for(var a=1,n=1;n<7&&!(e[0]+n>6||e[1]+n>6);n++)if("undefined"!==typeof E[e[0]+n][e[1]+n]){if(E[e[0]+n][e[1]+n]!=t)break;a+=1}for(var i=1;i<7&&!(e[0]-i<0||e[1]-i<0);i++)if("undefined"!==typeof E[e[0]-i][e[1]-i]){if(E[e[0]-i][e[1]-i]!=t)break;a+=1}return a>=4}function ee(e,t){for(var a=1,n=1;n<7&&!(e[0]+n>6||e[1]-n<0);n++)if("undefined"!==typeof E[e[0]+n][e[1]-n]){if(E[e[0]+n][e[1]-n]!=t)break;a+=1}for(var i=1;i<7&&!(e[0]-i<0||e[1]+i>6);i++)if("undefined"!==typeof E[e[0]-i][e[1]+i]){if(E[e[0]-i][e[1]+i]!=t)break;a+=1}return a>=4}return i.a.createElement("div",{id:"game-root"},i.a.createElement(l.a,{onCreated:function(e){var t=e.gl;return t.shadowMap.enabled=!0,t.shadowMap.type=m.PCFSoftShadowMap},className:B||1!==W?"active":"",id:"canvas-container"},i.a.createElement(j,{isActive:a}),i.a.createElement("ambientLight",{intensity:.5}),i.a.createElement("spotLight",{intensity:1.5,position:[20,5,10],angle:.2,penumbra:1,castShadow:!0}),i.a.createElement(b,{setActive:o,active:a,isMoving:u,setIsMoving:f,counters:E,setCounter:x,player:g,activeCol:A,setActiveCol:I}),i.a.createElement(O,null),i.a.createElement("fog",{attach:"fog",args:["#4cd4ff",0,8]})),i.a.createElement(w,{setActive:o,active:a,isMoving:u,setIsMoving:f,placeCounter:U,modal:B,setModal:Y,gameState:W,setGameState:function(e,t){(0===e||t)&&(S([[],[],[],[],[],[],[]]),o(!1),h(1),x([A,1])),J(e)},winner:Q,isSinglePlayer:F,setIsSinglePlayer:H}))};var C=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=function(){r.a.render(i.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))};window.cordova?document.addEventListener("deviceready",k,!1):k()}},[[28,1,2]]]);
//# sourceMappingURL=main.cd4b0160.chunk.js.map