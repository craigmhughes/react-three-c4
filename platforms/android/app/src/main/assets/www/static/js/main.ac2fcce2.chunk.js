(this["webpackJsonpconnect-test"]=this["webpackJsonpconnect-test"]||[]).push([[0],{28:function(e,t,n){e.exports=n(40)},33:function(e,t,n){},34:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(22),i=n.n(r),c=(n(33),n(34),n(3)),s=n(23),l=n(5),u=n(0),f=n(12),m=n(18),v=function(){var e=Object(a.useState)(),t=Object(c.a)(e,2),n=t[0],r=t[1],i=new u.MeshPhongMaterial({color:28048});return Object(a.useEffect)((function(){n||(new m.a).load("blockfour-2.gltf",(function(e){e.scene.traverse((function(e){e.isMesh&&(e.material=i),e instanceof u.Mesh&&(e.castShadow=!0)})),r(e)}))})),n?o.a.createElement("primitive",{object:n.scene,scale:[.75,.75,.75],"position-y":-.675,"position-z":-.65}):null},d=function(e){var t=e.id,n=e.dimensions,r=e.cols,i=e.owner,c=e.isPlaced,s=Object(a.useRef)(),l=n[0]/r*1.075,u=i>0?"#e8ea5e":"#bb4042",m=Object(f.b)({counterColor:u,y:c?.23*t-.625:n[1]+l+1,transparent:c?1:0});return o.a.createElement(f.a.mesh,{ref:s,"rotation-x":0,"position-y":m.y,castShadow:c},o.a.createElement("boxGeometry",{attach:"geometry",args:[l,l,l]}),o.a.createElement(f.a.meshPhongMaterial,{attach:"material",color:m.counterColor,opacity:m.transparent}))},p=function(e){var t=Object(a.useState)(),n=Object(c.a)(t,2),r=n[0],i=n[1],s=new u.MeshPhongMaterial({color:16777215});return Object(a.useEffect)((function(){r||(new m.a).load("clouds.gltf",(function(e){e.scene.traverse((function(e){e.isMesh&&(e.material=s),e instanceof u.Mesh&&(e.castShadow=!0)})),i(e)}))})),r?o.a.createElement("primitive",{object:r.scene,scale:[.75,.5,.75],"position-y":2,"position-z":0,"rotation-y":e?3.5:-3.5}):null},b=function(e){for(var t=e.id,n=e.dimensions,r=e.cols,i=e.activeCol,c=e.setActiveCol,s=e.counters,l=e.setCounter,u=e.player,m=Object(a.useRef)(),v=t,p=[],b=Object(f.b)({color:i===t?"red":"grey"}),h=0;h<Math.floor(n[1]/(n[0]/r));h++)p.push(o.a.createElement(d,{key:h,id:h,dimensions:n,cols:r,owner:s[v][h],isPlaced:void 0!==s[t][h]}));return o.a.createElement(f.a.mesh,{ref:m,"position-x":-n[0]/2+(n[0]/r+.015)*t+.06,"position-z":-.05,"position-y":.075,onClick:function(){c(-1),l([t,u]),c(t)}},p,o.a.createElement("boxGeometry",{attach:"geometry",args:[n[0]/r,n[1],n[2]]}),o.a.createElement(f.a.meshBasicMaterial,{attach:"material",color:b.color,transparent:!0,opacity:.01}))},h=function(e){for(var t=e.active,n=(e.setActive,e.isMoving),r=e.setIsMoving,i=e.counters,c=e.setCounter,s=e.player,u=e.activeCol,m=e.setActiveCol,d=Object(a.useRef)(),h=Object(f.b)({rotationY:t?3.15:0}),g=[1.5,1.425,.2],y=[],E=0;E<7;E++)y.push(o.a.createElement(b,{key:E,id:E,dimensions:g,cols:7,activeCol:u,setActiveCol:m,counters:i,setCounter:c,player:s}));return Object(l.f)((function(){(3.15==h.rotationY.value&&n||0==h.rotationY.value&&n)&&r(!1)})),o.a.createElement(f.a.mesh,{ref:d,"rotation-y":h.rotationY,"position-y":0,"position-x":.025,castShadow:!0,receiveShadow:!0},y,o.a.createElement(v,null),o.a.createElement(p,{active:t}))},g=function(e){var t=Object(l.h)(),n=t.camera;return n.position.z=2.5,n.position.y=e?0:2.5,t.gl.setSize(window.innerWidth,window.innerHeight),null};Object(l.d)({OrbitControls:s.a});var y=function(){var e=Object(a.useRef)(),t=Object(l.h)(),n=t.camera,r=t.gl;return Object(l.g)((function(){e.current.update()})),o.a.createElement("orbitControls",{maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2,args:[n,r.domElement],ref:e})},E=function(e){var t=e.setActive,n=e.active,a=e.setIsMoving,r=e.isMoving,i=e.placeCounter;return o.a.createElement("button",{id:"place-button",onClick:function(e){!function(e){e.preventDefault(),0==r&&(t(!n),a(!0),i())}(e)}},"Place Counter")},j=function(){return o.a.createElement("mesh",{"rotation-x":-1.6,"position-z":0,"position-y":-.675,receiveShadow:!0},o.a.createElement("planeBufferGeometry",{attach:"geometry",args:[10,10]}),o.a.createElement("meshPhongMaterial",{attach:"material",color:"#4fd654"}))},O=function(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),s=Object(c.a)(i,2),f=s[0],m=s[1],v=Object(a.useState)(1),d=Object(c.a)(v,2),p=d[0],b=d[1],O=Object(a.useState)([[],[],[],[],[],[],[]]),w=Object(c.a)(O,2),C=w[0],M=(w[1],Object(a.useState)([0,p])),S=Object(c.a)(M,2),k=S[0],A=S[1],P=Object(a.useState)(0),x=Object(c.a)(P,2),I=x[0],z=x[1];function B(e,t){for(var n=1,a=1;a<7&&!(e[0]+a>6);a++)if("undefined"!==typeof C[e[0]+a]){if(C[e[0]+a][e[1]]!=t)break;n+=1}for(var o=1;o<7&&!(e[0]-o<0);o++)if("undefined"!==typeof C[e[0]-o]){if(C[e[0]-o][e[1]]!=t)break;n+=1}return n>=4}function R(e,t){for(var n=1,a=1;a<6&&!(e[1]+a>5);a++)if("undefined"!==typeof C[e[0]][e[1]+a]){if(C[e[0]][e[1]+a]!=t)break;n+=1}for(var o=1;o<7&&!(e[1]-o<0);o++)if("undefined"!==typeof C[e[0]][e[1]-o]){if(C[e[0]][e[1]-o]!=t)break;n+=1}return n>=4}function Y(e,t){for(var n=1,a=1;a<6&&!(e[0]+a>5||e[1]+a>5);a++)if("undefined"!==typeof C[e[0]+a][e[1]+a]){if(C[e[0]+a][e[1]+a]!=t)break;n+=1}for(var o=1;o<7&&!(e[0]-o<0||e[1]-o<0);o++)if("undefined"!==typeof C[e[0]-o][e[1]-o]){if(C[e[0]-o][e[1]-o]!=t)break;n+=1}return n>=4}function G(e,t){for(var n=1,a=1;a<6&&!(e[0]+a>5||e[1]-a<0);a++)if("undefined"!==typeof C[e[0]+a][e[1]-a]){if(C[e[0]+a][e[1]-a]!=t)break;n+=1}for(var o=1;o<7&&!(e[0]-o<0||e[1]+o>5);o++)if("undefined"!==typeof C[e[0]-o][e[1]+o]){if(C[e[0]-o][e[1]+o]!=t)break;n+=1}return n>=4}return o.a.createElement("div",{id:"game-root"},o.a.createElement(l.a,{onCreated:function(e){var t=e.gl;return t.shadowMap.enabled=!0,t.shadowMap.type=u.PCFSoftShadowMap}},o.a.createElement(g,{isActive:n}),o.a.createElement("ambientLight",{intensity:.5}),o.a.createElement("spotLight",{intensity:1.5,position:[20,5,10],angle:.2,penumbra:1,castShadow:!0}),o.a.createElement(h,{setActive:r,active:n,isMoving:f,setIsMoving:m,counters:C,setCounter:A,player:p,activeCol:I,setActiveCol:z}),o.a.createElement(y,null),o.a.createElement(j,null),o.a.createElement("fog",{attach:"fog",args:["#4cd4ff",0,8]})),o.a.createElement(E,{setActive:r,active:n,isMoving:f,setIsMoving:m,setActiveCol:z,placeCounter:function(){C[k[0]][C[k[0]].length]=k[1],k.push(C[k[0]].length-1),function(e){var t=[e[0],e[2]],n=e[1],a=[B(t,n),R(t,n),G(t,n),Y(t,n)];console.log(a)}(k),b(-1*p),A([I,-1*p])},setPlayer:b,player:p,activeCol:I,setActiveCounter:A}))};var w=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=function(){i.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))};window.cordova?document.addEventListener("deviceready",C,!1):C()}},[[28,1,2]]]);
//# sourceMappingURL=main.ac2fcce2.chunk.js.map