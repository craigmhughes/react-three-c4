(this["webpackJsonpconnect-test"]=this["webpackJsonpconnect-test"]||[]).push([[0],{28:function(e,t,a){e.exports=a(40)},33:function(e,t,a){},34:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(22),r=a.n(o),c=(a(33),a(34),a(3)),s=a(23),l=a(5),m=a(1),u=a(12),d=a(18),f=function(){var e=Object(n.useState)(),t=Object(c.a)(e,2),a=t[0],o=t[1],r=new m.MeshPhongMaterial({color:28048});return Object(n.useEffect)((function(){a||(new d.a).load("blockfour-2.gltf",(function(e){e.scene.traverse((function(e){e.isMesh&&(e.material=r),e instanceof m.Mesh&&(e.castShadow=!0)})),o(e)}))})),a?i.a.createElement("primitive",{object:a.scene,scale:[.75,.75,.75],"position-y":-.675,"position-z":-.65}):null},v=function(e){var t=e.id,a=e.dimensions,o=e.cols,r=e.owner,c=e.isPlaced,s=Object(n.useRef)(),l=a[0]/o*1.075,m=r>0?"#e8ea5e":"#bb4042",d=Object(u.b)({counterColor:m,y:c?.23*t-.625:a[1]+l+1,transparent:c?1:0});return i.a.createElement(u.a.mesh,{ref:s,"rotation-x":0,"position-y":d.y,castShadow:c},i.a.createElement("boxGeometry",{attach:"geometry",args:[l,l,l]}),i.a.createElement(u.a.meshPhongMaterial,{attach:"material",color:d.counterColor,opacity:d.transparent}))},g=function(e){var t=Object(n.useState)(),a=Object(c.a)(t,2),o=a[0],r=a[1],s=new m.MeshPhongMaterial({color:16777215});return Object(n.useEffect)((function(){o||(new d.a).load("clouds.gltf",(function(e){e.scene.traverse((function(e){e.isMesh&&(e.material=s),e instanceof m.Mesh&&(e.castShadow=!0)})),r(e)}))})),o?i.a.createElement("primitive",{object:o.scene,scale:[.75,.5,.75],"position-y":2,"position-z":0,"rotation-y":e?3.5:-3.5}):null},p=function(e){for(var t=e.id,a=e.dimensions,o=e.cols,r=e.activeCol,c=e.setActiveCol,s=e.counters,l=e.setCounter,m=e.player,d=Object(n.useRef)(),f=t,g=[],p=Object(u.b)({color:r===t?"red":"grey"}),b=0;b<Math.floor(a[1]/(a[0]/o));b++)g.push(i.a.createElement(v,{key:b,id:b,dimensions:a,cols:o,owner:s[f][b],isPlaced:void 0!==s[t][b]}));return i.a.createElement(u.a.mesh,{ref:d,"position-x":-a[0]/2+(a[0]/o+.015)*t+.06,"position-z":-.05,"position-y":.075,onClick:function(){c(-1),l([t,m]),c(t)}},g,i.a.createElement("boxGeometry",{attach:"geometry",args:[a[0]/o,a[1],a[2]]}),i.a.createElement(u.a.meshBasicMaterial,{attach:"material",color:p.color,transparent:!0,opacity:.01}))},b=function(e){for(var t=e.active,a=(e.setActive,e.isMoving),o=e.setIsMoving,r=e.counters,c=e.setCounter,s=e.player,m=e.activeCol,d=e.setActiveCol,v=Object(n.useRef)(),b=Object(u.b)({rotationY:t?3.15:0}),h=[1.5,1.425,.2],y=[],E=0;E<7;E++)y.push(i.a.createElement(p,{key:E,id:E,dimensions:h,cols:7,activeCol:m,setActiveCol:d,counters:r,setCounter:c,player:s}));return Object(l.f)((function(){(3.15==b.rotationY.value&&a||0==b.rotationY.value&&a)&&o(!1)})),i.a.createElement(u.a.mesh,{ref:v,"rotation-y":b.rotationY,"position-y":0,"position-x":.025,castShadow:!0,receiveShadow:!0},y,i.a.createElement(f,null),i.a.createElement(g,{active:t}))},h=function(e){var t=e.setActive,a=e.active,n=e.setIsMoving,o=e.isMoving,r=e.placeCounter,c=e.gameState;return i.a.createElement("img",{src:"assets/place-counter.svg",id:"place-button",className:0==c?"hidden":"",onClick:function(e){!function(e){e.preventDefault(),0==o&&(t(!a),n(!0),r())}(e)}})},y=function(e){var t=e.gameState,a=e.setGameState,n=e.winner,o=e.isSinglePlayer,r="winner-modal";return n<0&&o&&(r="loser-modal"),i.a.createElement("div",{id:"endgame-modal-container",className:t>1?"active":""},i.a.createElement("img",{src:"assets/".concat(r,".svg"),id:"end-modal"}),i.a.createElement("img",{src:"assets/playerwin-".concat(1==n?"one":"two",".svg"),id:"end-winner"}),i.a.createElement("img",{src:"assets/tick.svg",id:"end-confirm",onClick:function(){a(0)}}),i.a.createElement("img",{src:"assets/retry.svg",id:"retry-game",onClick:function(){a(1,!0)}}))},E=function(e){var t=e.modal,a=e.setModal,n=e.gameState,o=e.setGameState;return i.a.createElement("div",{id:"exit-modal-container",className:t&&0!==n?"active":"",onClick:function(e){"exit-modal"!==e.target.id&&"exit-confirm"!==e.target.id&&a(!t)}},i.a.createElement("img",{src:"assets/quit-modal.svg",id:"exit-modal"}),i.a.createElement("img",{src:"assets/tick.svg",id:"exit-confirm",onClick:function(){o(0),a(!1)}}),i.a.createElement("img",{src:"assets/exit-2.svg",id:"exit-cancel"}))};var S=function(e){var t=e.setActive,a=e.active,n=e.setIsMoving,o=e.isMoving,r=e.placeCounter,c=e.modal,s=e.setModal,l=e.gameState,m=e.setGameState,u=e.isSinglePlayer,d=e.setIsSinglePlayer,f=e.winner;return i.a.createElement("div",{className:"Interface"},i.a.createElement("img",{src:"assets/logo.svg",id:"game-logo",className:0==l?"menu":""}),i.a.createElement("img",{src:"assets/playerturn-".concat(a?"two":"one",".svg"),id:"turn-card",className:0==l?"hidden":""}),i.a.createElement("img",{src:"assets/single-player.svg",id:"singleplay-btn",onClick:function(){m(1),d(!0)},className:l>0?"hidden":""}),i.a.createElement("img",{src:"assets/two-player.svg",id:"twoplayer-btn",onClick:function(){m(1),d(!1)},className:l>0?"hidden":""}),i.a.createElement("img",{src:"assets/exit.svg",id:"exit-game",className:0==l?"hidden":"",onClick:function(){s(!c),console.log(c)}}),i.a.createElement("img",{src:"assets/credit.svg",id:"project-credit",className:l>0?"hidden":""}),i.a.createElement(h,{gameState:l,setActive:t,active:a,setIsMoving:n,isMoving:o,placeCounter:r}),i.a.createElement(E,{modal:c,setModal:s,gameState:l,setGameState:m}),i.a.createElement(y,{gameState:l,setGameState:m,winner:f,isSinglePlayer:u}))},w=function(){var e=Object(l.h)(),t=e.camera;return t.position.z=2.5,t.position.y=0,e.gl.setSize(window.innerWidth,window.innerHeight),null};Object(l.d)({OrbitControls:s.a});var j=function(){return i.a.createElement("mesh",{"rotation-x":-1.6,"position-z":0,"position-y":-.675,receiveShadow:!0},i.a.createElement("planeBufferGeometry",{attach:"geometry",args:[10,10]}),i.a.createElement("meshPhongMaterial",{attach:"material",color:"#4fd654"}))},O=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(!1),s=Object(c.a)(r,2),u=s[0],d=s[1],f=Object(n.useState)(1),v=Object(c.a)(f,2),g=v[0],p=v[1],h=Object(n.useState)([[],[],[],[],[],[],[]]),y=Object(c.a)(h,2),E=y[0],O=y[1],M=Object(n.useState)([0,g]),C=Object(c.a)(M,2),k=C[0],x=C[1],P=Object(n.useState)(0),A=Object(c.a)(P,2),N=A[0],I=A[1],G=Object(n.useState)(!1),z=Object(c.a)(G,2),B=z[0],Y=z[1],L=Object(n.useState)(0),R=Object(c.a)(L,2),W=R[0],J=R[1],q=Object(n.useState)(!0),D=Object(c.a)(q,2),F=D[0],H=D[1],$=Object(n.useState)(1),K=Object(c.a)($,2),Q=K[0],T=K[1];function U(e,t){for(var a=1,n=1;n<7&&!(e[0]+n>6);n++)if("undefined"!==typeof E[e[0]+n]){if(E[e[0]+n][e[1]]!=t)break;a+=1}for(var i=1;i<7&&!(e[0]-i<0);i++)if("undefined"!==typeof E[e[0]-i]){if(E[e[0]-i][e[1]]!=t)break;a+=1}return a>=4}function V(e,t){for(var a=1,n=1;n<7&&!(e[1]+n>5);n++)if("undefined"!==typeof E[e[0]][e[1]+n]){if(E[e[0]][e[1]+n]!=t)break;a+=1}for(var i=1;i<7&&!(e[1]-i<0);i++)if("undefined"!==typeof E[e[0]][e[1]-i]){if(E[e[0]][e[1]-i]!=t)break;a+=1}return a>=4}function X(e,t){for(var a=1,n=1;n<7&&!(e[0]+n>5||e[1]+n>5);n++)if("undefined"!==typeof E[e[0]+n][e[1]+n]){if(E[e[0]+n][e[1]+n]!=t)break;a+=1}for(var i=1;i<7&&!(e[0]-i<0||e[1]-i<0);i++)if("undefined"!==typeof E[e[0]-i][e[1]-i]){if(E[e[0]-i][e[1]-i]!=t)break;a+=1}return a>=4}function Z(e,t){for(var a=1,n=1;n<7&&!(e[0]+n>5||e[1]-n<0);n++)if("undefined"!==typeof E[e[0]+n][e[1]-n]){if(E[e[0]+n][e[1]-n]!=t)break;a+=1}for(var i=1;i<7&&!(e[0]-i<0||e[1]+i>5);i++)if("undefined"!==typeof E[e[0]-i][e[1]+i]){if(E[e[0]-i][e[1]+i]!=t)break;a+=1}return a>=4}return i.a.createElement("div",{id:"game-root"},i.a.createElement(l.a,{onCreated:function(e){var t=e.gl;return t.shadowMap.enabled=!0,t.shadowMap.type=m.PCFSoftShadowMap},className:B||1!==W?"active":"",id:"canvas-container"},i.a.createElement(w,{isActive:a}),i.a.createElement("ambientLight",{intensity:.5}),i.a.createElement("spotLight",{intensity:1.5,position:[20,5,10],angle:.2,penumbra:1,castShadow:!0}),i.a.createElement(b,{setActive:o,active:a,isMoving:u,setIsMoving:d,counters:E,setCounter:x,player:g,activeCol:N,setActiveCol:I}),i.a.createElement(j,null),i.a.createElement("fog",{attach:"fog",args:["#4cd4ff",0,8]})),i.a.createElement(S,{setActive:o,active:a,isMoving:u,setIsMoving:d,placeCounter:function(){E[k[0]][E[k[0]].length]=k[1],k.push(E[k[0]].length-1),function(e){for(var t=[e[0],e[2]],a=e[1],n=[U(t,a),V(t,a),Z(t,a),X(t,a)],i=0;i<n.length;i++)if(n[i]){T(a),console.log(Q),J(2);break}}(k),p(-1*g),x([N,-1*g])},modal:B,setModal:Y,gameState:W,setGameState:function(e,t){(0===e||t)&&O([[],[],[],[],[],[],[]]),J(e)},winner:Q,isSinglePlayer:F,setIsSinglePlayer:H}))};var M=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=function(){r.a.render(i.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))};window.cordova?document.addEventListener("deviceready",C,!1):C()}},[[28,1,2]]]);
//# sourceMappingURL=main.9be3525c.chunk.js.map